library(openair)
library(tidyverse)
require(devtools)
library(openair)
library(tidyverse)
library(dplyr)
install.packages("tidyverse")
library(tidyverse)
install.packages("rlang")
install.packages("rlang")
install.packages("rlang")
library(rlang)
sessionInfo()
library(openair)
library(tidyverse)
require(devtools)
install.packages("devtools")
require(devtools)
#install_github('davidcarslaw/openair', dependencies = TRUE)
install.packages("openair")
install.packages("tidyverse")
library(openair)
library(tidyverse)
kc1 <- importAURN(site = "kc1", year = 2020, meta = TRUE)
glimpse(kc1)
View(kc1)
View(kc1)
kc1 <- importAURN(site = "kc1", year = 2020, meta = TRUE, to_narrow = TRUE)
View(kc1)
kc1 <- importAURN(year = 2021, meta = TRUE, to_narrow = TRUE)
View(kc1)
kc1 <- importAURN(site = c("kc1", 'my1'), year = 2021, meta = TRUE, to_narrow = TRUE)
View(kc1)
# read in data for all of Greater London Area 2021
#data_2021 <- importAURN(site = c("kc1", 'my1'), year = 2021, meta = TRUE, to_narrow = TRUE)
data_2021 <- importAURN(site = "kc1", year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
View(data_2021)
View(data_2021)
kcl_meta <- importMeta(source = "kcl")
kcl_meta
View(kcl_meta)
View(kcl_meta)
View(kcl_meta)
type(kcl_meta)
class(kcl_meta)
View(kcl_meta)
kcl_code <- kcl_meta[, 2]
View(kcl_code)
View(kcl_code)
class(kcl_code)
length(unique(kcl_code[["code"]])
length(unique(kcl_code[["code"]]))
class(kcl_code[["code"]])
unique(kcl_code[c("code")])
codes <- unique(kcl_code[c("code")])
class(codes)
View(codes)
View(codes)
avector <- as.vector(codes['code'])
class(avector)
avector <- codes[['code']]
class(avector)
avector <- codes[,2]
avector <- codes[,1]
class(avector)
View(avector)
class(codes)
avector <- as.vector(codes['code'])
class(avector)
list_codes <- list(codes['code'])
View(list_codes)
class(codes)
list_codes
list_x <- list("my1", "kcl1")
list_x
practice <- importAURN(site = list_x, year = 2021, meta = TRUE, to_narrow = TRUE)
# read in data for all of Greater London Area 2021
data_2021 <- importAURN(site = c("kc1", 'my1'), year = 2021, meta = TRUE, to_narrow = TRUE)
View(practice)
View(practice)
list_x <- list("my1", "kc1")
practice <- importAURN(site = list_x, year = 2021, meta = TRUE, to_narrow = TRUE)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
# put all unique values from kcl_meta column "code" into a vector
kcl_code <- kcl_meta[, 2]
codes <- unique(kcl_code[c("code")])
list_codes <- list(codes['code'])
data_2021 <- importAURN(site = list_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
data_2021 <- importKCL(site = list_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
test_list("KC1", "MY1")
test_list <- list("KC1", "MY1")
practice <- importKCL(site = test_list, year = 2021, meta = TRUE, to_narrow = TRUE)
practice <- importAURN(site = test_list, year = 2021, meta = TRUE, to_narrow = TRUE)
data_2021 <- importAURN(site = list_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
# put all unique values from kcl_meta column "code" into a vector
kcl_code <- kcl_meta[, 2]
codes <- unique(kcl_code[c("code")])
list_codes <- list(codes['code'])
# read in data for all of Greater London Area 2021
data_2021 <- importAURN(site = list_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
test_list <- list("KC1", "MY1")
# read in data for all of Greater London Area 2021
data_2021 <- importAURN(site = test_list, year = 2021, meta = TRUE, to_narrow = TRUE)
View(data_2021)
class(test_list)
class(list_codes)
test_list
list_codes
class(codes)
#issue with how I made list_codes, bc data_2021 will take a list for site without problems!
list_codes[1][1]
maybe <-unlist(list_codes)
maybe[1]
vector_codes <-unlist(list_codes)
vector[1]
vector_codes[1]
vector_test <- unlist(test_list)
vector_test[1]
# read in data for all of Greater London Area 2021
data_2022 <- importAURN(site = vector_test, year = 2021, meta = TRUE, to_narrow = TRUE)
class(vector_codes)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
# put all unique values from kcl_meta column "code" into a vector
kcl_code <- kcl_meta[, 2]
codes <- unique(kcl_code[c("code")])
list_codes <- list(codes['code'])
vector_codes <-unlist(list_codes)
vector_codes[1]
data_2020_2021 <- importAURN(site = vector_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
data_2020_2021 <- importAURN(site = vector_codes, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
# check for vector conversion
vector_codes[1]
View(data_2020_2021)
View(data_2020_2021)
# write data_2020_2021 to csv
write.csv(data_2020_2021, 'data/data_2020_2021.csv')
class(data_2020_2021)
# write data_2020_2021 to csv
write.csv(data_2020_2021, 'data/data_2020_2021.csv')
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
require(devtools)
library(openair)
library(tidyverse)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
View(kcl_meta)
View(kcl_meta)
# put all unique values from kcl_meta column "code" into a vector
kcl_code <- kcl_meta[, 2]
View(kcl_code)
View(kcl_code)
codes <- unique(kcl_code[c("code")])
list_codes <- list(codes['code'])
# check for vector conversion
vector_codes[1]
View(list_codes)
# create list of hand-collected codes for GLA
gla_codes = list('HK4', 'THUR')
gla_codes
# create list of hand-collected codes for GLA
gla_codes <- list('THUR', 'BEX', 'TH2', 'WA2', 'BDMP', 'SUT3', 'SUT1', 'A3', 'TED',
'TED2', 'BRN', 'HS1', 'HIL', 'HRL', 'HARR', 'BREN', 'HR3', 'SK1',
'LON6', 'BY1', 'BY2', 'LW1', 'HP1', 'SK2', 'SK5', 'HG1', 'HK4',
'HG2', 'HG4', 'CA1', 'ISL', 'SK1', 'MY1', 'KC1', 'EA8', 'CLL2',
'LON5', 'SK5', 'SK2', 'CRD', 'CRD2', 'WL', 'CLL', 'HORS', 'BRI')
vector_gla <- unlist(gla_codes)
require(devtools)
library(openair)
library(tidyverse)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
# put all unique values from kcl_meta column "code" into a vector
kcl_code <- kcl_meta[, 2]
# create list of hand-collected codes for GLA
gla_codes <- list('THUR', 'BEX', 'TH2', 'WA2', 'BDMP', 'SUT3', 'SUT1', 'A3', 'TED',
'TED2', 'BRN', 'HS1', 'HIL', 'HRL', 'HARR', 'BREN', 'HR3', 'SK1',
'LON6', 'BY1', 'BY2', 'LW1', 'HP1', 'SK2', 'SK5', 'HG1', 'HK4',
'HG2', 'HG4', 'CA1', 'ISL', 'SK1', 'MY1', 'KC1', 'EA8', 'CLL2',
'LON5', 'SK5', 'SK2', 'CRD', 'CRD2', 'WL', 'CLL', 'HORS', 'BRI')
vector_gla <- unlist(gla_codes)
# read in data for all of Greater London Area 2021
data_2020_2021 <- importAURN(site = vector_gla, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
# write data_2020_2021 to csv
write.csv(data_2020_2021, 'data/data_2020_2021_updated.csv')
data_2020_2021_kcl <- importKCL(site = vector_gla, year = c(2020,2021), meta = TRUE, to_narrow = TRUE)
data_2020_2021_aqe <- importAQE(site = vector_gla, year = 2021, meta = TRUE, to_narrow = TRUE)
# read in data for all of Greater London Area 2021
data_2020_2021 <- importAURN(site = c('THUR', 'BEX', 'TH2', 'WA2', 'BDMP', 'SUT3', 'SUT1', 'A3', 'TED',
'TED2', 'BRN', 'HS1', 'HIL', 'HRL', 'HARR', 'BREN', 'HR3', 'SK1',
'LON6', 'BY1', 'BY2', 'LW1', 'HP1', 'SK2', 'SK5', 'HG1', 'HK4',
'HG2', 'HG4', 'CA1', 'ISL', 'SK1', 'MY1', 'KC1', 'EA8', 'CLL2',
'LON5', 'SK5', 'SK2', 'CRD', 'CRD2', 'WL', 'CLL', 'HORS', 'BRI'), year = 2021, meta = TRUE, to_narrow = TRUE)
View(data_2020_2021)
codes <- unique(data_2020_2021[c("code")])
View(codes)
View(codes)
View(codes)
data_2020_2021 <- importAURN(site = "ISL", year = 2021, meta = TRUE, to_narrow = TRUE)
# write data_2020_2021 to csv
write.csv(data_2020_2021, 'data/data_2020_2021_updated.csv')
data_2020_2021 <- importAURN(site = "isl", year = 2021, meta = TRUE, to_narrow = TRUE)
data_2020_2021 <- importAURN(site = "Isl", year = 2021, meta = TRUE, to_narrow = TRUE)
data <- importAQE(site = "ISL", year = 2021, meta = TRUE, to_narrow = TRUE)
data <- importAQE(site = "isl", year = 2021, meta = TRUE, to_narrow = TRUE)
data <- importAQE(site = "Isl", year = 2021, meta = TRUE, to_narrow = TRUE)
data <- importKCL(site = "ISL", year = 2021, meta = TRUE, to_narrow = TRUE)
data <- importKCL(site = c("ISL"), year = 2021, meta = TRUE, to_narrow = TRUE)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
# create list of hand-collected codes for GLA
gla_codes <- list('THUR', 'BEX', 'TH2', 'WA2', 'BDMP', 'SUT3', 'SUT1', 'A3', 'TED',
'TED2', 'BRN', 'HS1', 'HIL', 'HRL', 'HARR', 'BREN', 'HR3', 'SK1',
'LON6', 'BY1', 'BY2', 'LW1', 'HP1', 'SK2', 'SK5', 'HG1', 'HK4',
'HG2', 'HG4', 'CA1', 'ISL', 'SK1', 'MY1', 'KC1', 'EA8', 'CLL2',
'LON5', 'SK5', 'SK2', 'CRD', 'CRD2', 'WL', 'CLL', 'HORS', 'BRI')
vector_gla <- unlist(gla_codes)
# read in data for all of Greater London Area 2021
data_2020_2021 <- importAURN(site = vector_gla, year = c(2020, 2021), meta = TRUE, to_narrow = TRUE)
# write data_2020_2021 to csv
write.csv(data_2020_2021, 'data/data_2020_2021_updated.csv')
data_2020_2021 <- importLAQN(site = "ISL", year = c(2021), meta = TRUE, to_narrow = TRUE)
data_2020_2021 <- importLAQN(site = "ISL", year = c(2021), meta = TRUE, to_narrow = TRUE)
data_2020_2021 <- importAURN(site = "ISL", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "isl", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "ISL", year = c(2021))
ISL <- importAURN(site = "ISL", year = c(2021))
ISL <- importAURN(site = "ISL", year = c(2021), meta = TRUE)
ISL <- importAURN(site = "ISL", year = 2021, meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "is2", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS", year = c(2021), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = 2021, meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = 2020, meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "ISL", year = c(2019), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = c(2019), meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "IS2", year = 2019:2021, meta = TRUE, to_narrow = TRUE)
IS2 <- importAURN(site = "IS2", year = 2019:2021, meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "is2", year = 2019:2021, meta = TRUE, to_narrow = TRUE)
ISL <- importAURN(site = "is2", year = c(2019, 2020, 2021), meta = TRUE, to_narrow = TRUE, pollutant = c("nox", "no2", "pm2.5"))
ISL <- importAURN(site = "IS2", year = c(2019, 2020, 2021), meta = TRUE, to_narrow = TRUE, pollutant = c("nox", "no2", "pm2.5"))
View(kcl_meta)
# get meta data for KCL network (data from sites operated by King's College London, pirmarily including "The London Air Quality Network")
kcl_meta <- importMeta(source = "kcl")
View(kcl_meta)
View(kcl_meta)
kcl_code <- kcl_meta[, 2]
View(kcl_code)
gla_codes <- c('BG1', 'BG2', 'BX2', 'BX0', 'BQ7', 'BQ8', 'BX1', 'BQ9', 'BT8', 'BT4', 'BT6', 'BT5', 'BY7', 'BL0', 'IM1',
'CD1', 'CT4', 'CT2', 'CT3', 'CT8', 'CT6', 'CR5', 'CR8', 'CR9', 'CR7', 'ZR4', 'ZR2', 'EI3', 'EA6', 'EA8', 'EI8', 'EI1', 'EN5',
'EN1', 'EN4', 'EN7', 'GN0', 'GR7', 'GR4', 'GB6', 'GB0', 'GN4', 'GN6', 'GN3', 'GN5', 'GR9', 'GR8', 'HK6', 'HG4', 'HG1', 'HR2',
'HR1', 'HV1', 'HV3', 'LH0', 'HI0', 'IS6', 'IS2', 'MW1', 'MW2',' MW4', 'NB1', 'WMB', 'WM6', 'MY7', 'MY1', 'WM0', 'WMD', 'GV1',
'GV2', 'WM5', 'WMC', 'WA2', 'WAB', 'WA8', 'WA7', 'WA9', 'WAC', 'WAA', 'TH2', 'TH4', 'TK3', 'TK8', 'TK1', 'TK9', 'ST6', 'ST4',
'ST9', 'ST5', 'SKB', 'SK8', 'SKA', 'SK6', 'SK9', 'SK5', 'ZV1', 'ZV2', 'RI1', 'RI2', 'RG8', 'RG3', 'RG6', 'RG1', 'RG7', 'RB7',
'RB4', 'RD0', 'ME9', 'ME2', 'ME6', 'ME5', 'TD5', 'LW2', 'LW4', 'HP1', 'LW5', 'LW1', 'LB6', 'LB4', 'LB5', 'KT4', 'KT6', 'KT5',
'KF1', 'KC1')
# make datafram kcl which is kcl_meta with only gla_codes (i.e. drop all other codes that are not of intereted from kcl_meta)
kcl <- filter(kcl_meta, code%in% gla_codes)
View(kcl)
View(kcl)
# put all unique values from kcl column "code" into a vector
kcl_code <- kcl[, 2]
View(kcl_code)
codes <- unique(kcl_code[c("code")])
list_codes <- list(codes['code'])
vector_codes <- unlist(list_codes)
# check for vector conversion
vector_codes[1]
View(kcl)
View(kcl)
# export kcl as csv
write.csv(kcl, 'data/gla_codes.csv')
